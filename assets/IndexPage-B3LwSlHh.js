import{Q as T,c as A,v as W,a as Q,b as q,d as D,e as F,f as G}from"./QSpinnerDots-DACkwDYJ.js";import{a as d,r as k,L as o,O as a,P as t,M as x,R as v,_ as L,W as w,$ as R,o as O,S as U,a0 as f,a1 as S,N as z,U as M,Q as b}from"./index-Bph5ryEF.js";import{Q as j}from"./QToggle-DQI4U1e7.js";import{_ as V,e as B,g as H,f as N}from"./_plugin-vue_export-helper-CYdQEHpQ.js";const J={key:0,class:"character-info"},K={key:0,class:"iast"},X={key:1,class:"name"},Y={key:1,class:"character-loading"},Z={__name:"CharacterCard",props:{character:{type:Object,required:!0},compact:{type:Boolean,default:!1}},emits:["play-start","play-end","play-error"],setup(u,{expose:P,emit:y}){const m=B(),h=H(),_=d(()=>m.showIAST),p=d(()=>m.showPhonetic),I=d(()=>48*m.viewSizeSettings.fontSize),r=u,l=y,{playSound:g,isCharacterAvailableForSpeaker:$}=N(),e=k(!1),n=k(!1),s=d(()=>_.value||p.value),i=d(()=>{if(!m.developerMode||h.currentSpeaker==="random")return!1;const c=h.getActualSpeaker();return!c||c==="random"?!1:!$(r.character,c)});async function C(){if(!n.value){n.value=!0,e.value=!0,l("play-start",r.character);try{await g(r.character)||(console.warn(`Could not play sound for ${r.character.unicode}`),l("play-error",r.character))}catch(c){console.error("Error playing character sound:",c),l("play-error",r.character,c)}finally{n.value=!1,setTimeout(()=>{e.value=!1,l("play-end",r.character)},800)}}}return P({playSound:C,isPlaying:d(()=>e.value),isLoading:d(()=>n.value)}),(c,we)=>(a(),o("div",{class:R(["character-card",{playing:e.value,compact:u.compact,"missing-sound":i.value}]),onClick:C},[t("div",{class:"character",style:L({fontSize:`${I.value}px`})},v(u.character.unicode),5),s.value?(a(),o("div",J,[_.value?(a(),o("div",K,v(u.character.iast),1)):x("",!0),p.value?(a(),o("div",X,v(u.character.name),1)):x("",!0)])):x("",!0),n.value?(a(),o("div",Y,[w(T,{size:"16px",color:"primary"})])):x("",!0)],2))}},E=V(Z,[["__scopeId","data-v-9266ef5a"]]),ee={class:"chart-controls q-mb-lg"},ae={class:"row q-gutter-md items-center"},se={class:"vowels-section q-mb-xl"},te={key:0,class:"traditional-vowels"},oe={class:"vowels-block"},ne={class:"group-label"},re={class:"group-name"},ce={class:"group-english"},le={class:"group-characters"},ie={key:1,class:"character-grid"},de={class:"consonants-section"},ue={key:0,class:"traditional-consonants"},he={class:"consonants-block"},pe={class:"group-label"},ve={class:"group-name"},ye={class:"group-english"},me={class:"group-characters"},_e={key:1,class:"character-grid"},ge={__name:"AlphabetChart",setup(u){const{preloadSounds:P,init:y}=N(),m=B(),h=k(!1),_=k(!1),p=k(!1),I=d(()=>{const e=m.viewSizeSettings,n=Math.max(...A.map(c=>c.consonants.length)),s=parseInt(e.buttonMinWidth),i=parseInt(e.gap),C=n*s+(n-1)*i;return{"--button-min-width":e.buttonMinWidth,"--button-padding":e.buttonPadding,"--grid-gap":e.gap,"--border-radius":e.borderRadius,"--info-font-size":e.infoFontSize,"--consonant-row-width":`${C}px`}});function r(e){console.log(`Started playing: ${e.unicode}`)}function l(e){console.log(`Finished playing: ${e.unicode}`)}function g(e,n){console.error(`Error playing ${e.unicode}:`,n)}async function $(){if(!p.value){p.value=!0;try{const e=[...Q,...q];await P(e),console.log("All sounds preloaded successfully")}catch(e){console.error("Error preloading sounds:",e)}finally{p.value=!1}}}return O(async()=>{_.value=!0;try{await y(),console.log("Sound service initialized successfully")}catch(e){console.error("Error initializing sound service:",e)}finally{_.value=!1}}),(e,n)=>(a(),o("div",{class:"alphabet-chart",style:L(I.value)},[t("div",ee,[t("div",ae,[w(U,{onClick:$,icon:"download",label:"Preload Sounds",outline:"",loading:p.value},null,8,["loading"]),w(j,{modelValue:h.value,"onUpdate:modelValue":n[0]||(n[0]=s=>h.value=s),label:"Traditional View",color:"primary"},null,8,["modelValue"])])]),t("div",se,[n[1]||(n[1]=t("h3",{class:"section-title"},"Vowels (स्वर)",-1)),h.value?(a(),o("div",te,[t("div",oe,[(a(!0),o(f,null,S(z(W),s=>(a(),o("div",{key:s.name,class:"vowel-row"},[t("div",ne,[t("div",re,v(s.name),1),t("div",ce,v(s.englishName),1)]),t("div",le,[(a(!0),o(f,null,S(s.vowels,i=>(a(),b(E,{key:i.unicode,character:i,compact:!0,onPlayStart:r,onPlayEnd:l,onPlayError:g},null,8,["character"]))),128))])]))),128))])])):(a(),o("div",ie,[(a(!0),o(f,null,S(z(Q),s=>(a(),b(E,{key:s.unicode,character:s,"font-size":e.fontSize,"show-iast":e.showIAST,"show-phonetic":e.showPhonetic,onPlayStart:r,onPlayEnd:l,onPlayError:g},null,8,["character","font-size","show-iast","show-phonetic"]))),128))]))]),t("div",de,[n[2]||(n[2]=t("h3",{class:"section-title"},"Consonants (व्यञ्जन)",-1)),h.value?(a(),o("div",ue,[t("div",he,[(a(!0),o(f,null,S(z(A),s=>(a(),o("div",{key:s.name,class:"consonant-row"},[t("div",pe,[t("div",ve,v(s.name),1),t("div",ye,v(s.englishName),1)]),t("div",me,[(a(!0),o(f,null,S(s.consonants,i=>(a(),b(E,{key:i.unicode,character:i,compact:!0,onPlayStart:r,onPlayEnd:l,onPlayError:g},null,8,["character"]))),128))])]))),128))])])):(a(),o("div",_e,[(a(!0),o(f,null,S(z(q),s=>(a(),b(E,{key:s.unicode,character:s,onPlayStart:r,onPlayEnd:l,onPlayError:g},null,8,["character"]))),128))]))]),w(F,{showing:_.value},{default:M(()=>[w(D,{size:"50px",color:"primary"})]),_:1},8,["showing"])],4))}},fe=V(ge,[["__scopeId","data-v-be7c9d03"]]),Se={__name:"IndexPage",setup(u){return(P,y)=>(a(),b(G,{class:"devanagari-home"},{default:M(()=>[y[0]||(y[0]=t("div",{class:"page-header q-pa-md"},[t("h1",{class:"text-h3 text-center text-primary q-mb-md"}," देवनागरी सीखें (Learn Devanagari) "),t("p",{class:"text-center text-grey-7 q-mb-lg"}," Click on any character to hear its pronunciation ")],-1)),w(fe)]),_:1,__:[0]}))}},xe=V(Se,[["__scopeId","data-v-c30e2bca"]]);export{xe as default};
