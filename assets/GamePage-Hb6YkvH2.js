import{p as Pe,q as Ne,r as _e,t as je,v as De,w as Ue,x as We,y as xe,n as ke,o as Me}from"./QCheckbox-BA2KMZoJ.js";import{r as x,w as U,e as ue,a1 as Ke,a as $,c as pe,g as Qe,y as Ae,d as Ze,o as ve,h as J,a2 as Ye,b as He,a3 as Je,R as Y,J as ze,a4 as be,a5 as Xe,a6 as et,I as Ce,Y as V,L as G,T as D,V as d,Q as k,S as X,P as F,X as Z,_ as me,U as ge,$ as ce,a0 as de,M as ee,K as ne,Z as Ge,E as Te,a7 as $e}from"./index-pJiLKOom.js";import{b as Be,k as tt,c as at,l as re,u as nt,a as st,_ as fe,g as Se,e as Fe,f as we}from"./_plugin-vue_export-helper-B5hhvtCw.js";import{v as le,a as oe,Q as Ie,b as lt,d as ot,e as rt,c as it}from"./QSpinnerDots-DgL3KcPU.js";const qe={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},ye={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Re=Object.keys(ye);Re.forEach(e=>{ye[e].regex=new RegExp(ye[e].pattern)});const ut=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Re.join("")+"])|(.)","g"),Ve=/[.*+?^${}()|[\]\\]/g,N="",ct={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function dt(e,S,l,m){let n,f,w,v,t,u;const h=x(null),C=x(b());function A(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}U(()=>e.type+e.autogrow,i),U(()=>e.mask,o=>{if(o!==void 0)p(C.value,!0);else{const s=M(C.value);i(),e.modelValue!==s&&S("update:modelValue",s)}}),U(()=>e.fillMask+e.reverseFillMask,()=>{h.value===!0&&p(C.value,!0)}),U(()=>e.unmaskedValue,()=>{h.value===!0&&p(C.value)});function b(){if(i(),h.value===!0){const o=T(M(e.modelValue));return e.fillMask!==!1?P(o):o}return e.modelValue}function O(o){if(o<n.length)return n.slice(-o);let s="",r=n;const a=r.indexOf(N);if(a!==-1){for(let g=o-r.length;g>0;g--)s+=N;r=r.slice(0,a)+s+r.slice(a)}return r}function i(){if(h.value=e.mask!==void 0&&e.mask.length!==0&&A(),h.value===!1){v=void 0,n="",f="";return}const o=qe[e.mask]===void 0?e.mask:qe[e.mask],s=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",r=s.replace(Ve,"\\$&"),a=[],g=[],_=[];let z=e.reverseFillMask===!0,q="",I="";o.replace(ut,(j,c,E,te,H)=>{if(te!==void 0){const K=ye[te];_.push(K),I=K.negate,z===!0&&(g.push("(?:"+I+"+)?("+K.pattern+"+)?(?:"+I+"+)?("+K.pattern+"+)?"),z=!1),g.push("(?:"+I+"+)?("+K.pattern+")?")}else if(E!==void 0)q="\\"+(E==="\\"?"":E),_.push(E),a.push("([^"+q+"]+)?"+q+"?");else{const K=c!==void 0?c:H;q=K==="\\"?"\\\\\\\\":K.replace(Ve,"\\\\$&"),_.push(K),a.push("([^"+q+"]+)?"+q+"?")}});const se=new RegExp("^"+a.join("")+"("+(q===""?".":"[^"+q+"]")+"+)?"+(q===""?"":"["+q+"]*")+"$"),ae=g.length-1,L=g.map((j,c)=>c===0&&e.reverseFillMask===!0?new RegExp("^"+r+"*"+j):c===ae?new RegExp("^"+j+"("+(I===""?".":I)+"+)?"+(e.reverseFillMask===!0?"$":r+"*")):new RegExp("^"+j));w=_,v=j=>{const c=se.exec(e.reverseFillMask===!0?j:j.slice(0,_.length+1));c!==null&&(j=c.slice(1).join(""));const E=[],te=L.length;for(let H=0,K=j;H<te;H++){const ie=L[H].exec(K);if(ie===null)break;K=K.slice(ie.shift().length),E.push(...ie)}return E.length!==0?E.join(""):j},n=_.map(j=>typeof j=="string"?j:N).join(""),f=n.split(N).join(s)}function p(o,s,r){const a=m.value,g=a.selectionEnd,_=a.value.length-g,z=M(o);s===!0&&i();const q=T(z),I=e.fillMask!==!1?P(q):q,se=C.value!==I;a.value!==I&&(a.value=I),se===!0&&(C.value=I),document.activeElement===a&&ue(()=>{if(I===f){const L=e.reverseFillMask===!0?f.length:0;a.setSelectionRange(L,L,"forward");return}if(r==="insertFromPaste"&&e.reverseFillMask!==!0){const L=a.selectionEnd;let j=g-1;for(let c=t;c<=j&&c<L;c++)n[c]!==N&&j++;Q.right(a,j);return}if(["deleteContentBackward","deleteContentForward"].indexOf(r)!==-1){const L=e.reverseFillMask===!0?g===0?I.length>q.length?1:0:Math.max(0,I.length-(I===f?0:Math.min(q.length,_)+1))+1:g;a.setSelectionRange(L,L,"forward");return}if(e.reverseFillMask===!0)if(se===!0){const L=Math.max(0,I.length-(I===f?0:Math.min(q.length,_+1)));L===1&&g===1?a.setSelectionRange(L,L,"forward"):Q.rightReverse(a,L)}else{const L=I.length-_;a.setSelectionRange(L,L,"backward")}else if(se===!0){const L=Math.max(0,n.indexOf(N),Math.min(q.length,g)-1);Q.right(a,L)}else{const L=g-1;Q.right(a,L)}});const ae=e.unmaskedValue===!0?M(I):I;String(e.modelValue)!==ae&&(e.modelValue!==null||ae!=="")&&l(ae,!0)}function y(o,s,r){const a=T(M(o.value));s=Math.max(0,n.indexOf(N),Math.min(a.length,s)),t=s,o.setSelectionRange(s,r,"forward")}const Q={left(o,s){const r=n.slice(s-1).indexOf(N)===-1;let a=Math.max(0,s-1);for(;a>=0;a--)if(n[a]===N){s=a,r===!0&&s++;break}if(a<0&&n[s]!==void 0&&n[s]!==N)return Q.right(o,0);s>=0&&o.setSelectionRange(s,s,"backward")},right(o,s){const r=o.value.length;let a=Math.min(r,s+1);for(;a<=r;a++)if(n[a]===N){s=a;break}else n[a-1]===N&&(s=a);if(a>r&&n[s-1]!==void 0&&n[s-1]!==N)return Q.left(o,r);o.setSelectionRange(s,s,"forward")},leftReverse(o,s){const r=O(o.value.length);let a=Math.max(0,s-1);for(;a>=0;a--)if(r[a-1]===N){s=a;break}else if(r[a]===N&&(s=a,a===0))break;if(a<0&&r[s]!==void 0&&r[s]!==N)return Q.rightReverse(o,0);s>=0&&o.setSelectionRange(s,s,"backward")},rightReverse(o,s){const r=o.value.length,a=O(r),g=a.slice(0,s+1).indexOf(N)===-1;let _=Math.min(r,s+1);for(;_<=r;_++)if(a[_-1]===N){s=_,s>0&&g===!0&&s--;break}if(_>r&&a[s-1]!==void 0&&a[s-1]!==N)return Q.leftReverse(o,r);o.setSelectionRange(s,s,"forward")}};function W(o){S("click",o),u=void 0}function R(o){if(S("keydown",o),Ke(o)===!0||o.altKey===!0)return;const s=m.value,r=s.selectionStart,a=s.selectionEnd;if(o.shiftKey||(u=void 0),o.keyCode===37||o.keyCode===39){o.shiftKey&&u===void 0&&(u=s.selectionDirection==="forward"?r:a);const g=Q[(o.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(o.preventDefault(),g(s,u===r?a:r),o.shiftKey){const _=s.selectionStart;s.setSelectionRange(Math.min(u,_),Math.max(u,_),"forward")}}else o.keyCode===8&&e.reverseFillMask!==!0&&r===a?(Q.left(s,r),s.setSelectionRange(s.selectionStart,a,"backward")):o.keyCode===46&&e.reverseFillMask===!0&&r===a&&(Q.rightReverse(s,a),s.setSelectionRange(r,s.selectionEnd,"forward"))}function T(o){if(o==null||o==="")return"";if(e.reverseFillMask===!0)return B(o);const s=w;let r=0,a="";for(let g=0;g<s.length;g++){const _=o[r],z=s[g];if(typeof z=="string")a+=z;else if(_!==void 0&&z.regex.test(_))a+=z.transform!==void 0?z.transform(_):_,r++;else return a}return a}function B(o){const s=w,r=n.indexOf(N);let a=o.length-1,g="";for(let _=s.length-1;_>=0&&a!==-1;_--){const z=s[_];let q=o[a];if(typeof z=="string")g=z+g;else if(q!==void 0&&z.regex.test(q))do g=(z.transform!==void 0?z.transform(q):q)+g,a--,q=o[a];while(r===_&&q!==void 0&&z.regex.test(q));else return g}return g}function M(o){return typeof o!="string"||v===void 0?typeof o=="number"?v(""+o):o:v(o)}function P(o){return f.length-o.length<=0?o:e.reverseFillMask===!0&&o.length!==0?f.slice(0,-o.length)+o:o+f.slice(o.length)}return{innerValue:C,hasMask:h,moveCursorForPaste:y,updateMaskValue:p,onMaskedKeydown:R,onMaskedClick:W}}function mt(e,S){function l(){const m=e.modelValue;try{const n="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(m)===m&&("length"in m?Array.from(m):[m]).forEach(f=>{n.items.add(f)}),{files:n.files}}catch{return{files:void 0}}}return $(()=>{if(e.type==="file")return l()})}const vt=pe({name:"QInput",inheritAttrs:!1,props:{...Ne,...ct,...Be,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Pe,"paste","change","keydown","click","animationend"],setup(e,{emit:S,attrs:l}){const{proxy:m}=Qe(),{$q:n}=m,f={};let w=NaN,v,t,u=null,h;const C=x(null),A=tt(e),{innerValue:b,hasMask:O,moveCursorForPaste:i,updateMaskValue:p,onMaskedKeydown:y,onMaskedClick:Q}=dt(e,S,q,C),W=mt(e),R=$(()=>_e(b.value)),T=De(_),B=je({changeEvent:!0}),M=$(()=>e.type==="textarea"||e.autogrow===!0),P=$(()=>M.value===!0||["text","search","url","tel","password"].includes(e.type)),o=$(()=>{const c={...B.splitAttrs.listeners.value,onInput:_,onPaste:g,onChange:se,onBlur:ae,onFocus:Ae};return c.onCompositionstart=c.onCompositionupdate=c.onCompositionend=T,O.value===!0&&(c.onKeydown=y,c.onClick=Q),e.autogrow===!0&&(c.onAnimationend=z),c}),s=$(()=>{const c={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:A.value,...B.splitAttrs.attributes.value,id:B.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return M.value===!1&&(c.type=e.type),e.autogrow===!0&&(c.rows=1),c});U(()=>e.type,()=>{C.value&&(C.value.value=e.modelValue)}),U(()=>e.modelValue,c=>{if(O.value===!0){if(t===!0&&(t=!1,String(c)===w))return;p(c)}else b.value!==c&&(b.value=c,e.type==="number"&&f.hasOwnProperty("value")===!0&&(v===!0?v=!1:delete f.value));e.autogrow===!0&&ue(I)}),U(()=>e.autogrow,c=>{c===!0?ue(I):C.value!==null&&l.rows>0&&(C.value.style.height="auto")}),U(()=>e.dense,()=>{e.autogrow===!0&&ue(I)});function r(){We(()=>{const c=document.activeElement;C.value!==null&&C.value!==c&&(c===null||c.id!==B.targetUid.value)&&C.value.focus({preventScroll:!0})})}function a(){C.value?.select()}function g(c){if(O.value===!0&&e.reverseFillMask!==!0){const E=c.target;i(E,E.selectionStart,E.selectionEnd)}S("paste",c)}function _(c){if(!c||!c.target)return;if(e.type==="file"){S("update:modelValue",c.target.files);return}const E=c.target.value;if(c.target.qComposing===!0){f.value=E;return}if(O.value===!0)p(E,!1,c.inputType);else if(q(E),P.value===!0&&c.target===document.activeElement){const{selectionStart:te,selectionEnd:H}=c.target;te!==void 0&&H!==void 0&&ue(()=>{c.target===document.activeElement&&E.indexOf(c.target.value)===0&&c.target.setSelectionRange(te,H)})}e.autogrow===!0&&I()}function z(c){S("animationend",c),I()}function q(c,E){h=()=>{u=null,e.type!=="number"&&f.hasOwnProperty("value")===!0&&delete f.value,e.modelValue!==c&&w!==c&&(w=c,E===!0&&(t=!0),S("update:modelValue",c),ue(()=>{w===c&&(w=NaN)})),h=void 0},e.type==="number"&&(v=!0,f.value=c),e.debounce!==void 0?(u!==null&&clearTimeout(u),f.value=c,u=setTimeout(h,e.debounce)):h()}function I(){requestAnimationFrame(()=>{const c=C.value;if(c!==null){const E=c.parentNode.style,{scrollTop:te}=c,{overflowY:H,maxHeight:K}=n.platform.is.firefox===!0?{}:window.getComputedStyle(c),ie=H!==void 0&&H!=="scroll";ie===!0&&(c.style.overflowY="hidden"),E.marginBottom=c.scrollHeight-1+"px",c.style.height="1px",c.style.height=c.scrollHeight+"px",ie===!0&&(c.style.overflowY=parseInt(K,10)<c.scrollHeight?"auto":"hidden"),E.marginBottom="",c.scrollTop=te}})}function se(c){T(c),u!==null&&(clearTimeout(u),u=null),h?.(),S("change",c.target.value)}function ae(c){c!==void 0&&Ae(c),u!==null&&(clearTimeout(u),u=null),h?.(),v=!1,t=!1,delete f.value,e.type!=="file"&&setTimeout(()=>{C.value!==null&&(C.value.value=b.value!==void 0?b.value:"")})}function L(){return f.hasOwnProperty("value")===!0?f.value:b.value!==void 0?b.value:""}Ze(()=>{ae()}),ve(()=>{e.autogrow===!0&&I()}),Object.assign(B,{innerValue:b,fieldClass:$(()=>`q-${M.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:$(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:C,emitValue:q,hasValue:R,floatingLabel:$(()=>R.value===!0&&(e.type!=="number"||isNaN(b.value)===!1)||_e(e.displayValue)),getControl:()=>J(M.value===!0?"textarea":"input",{ref:C,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...s.value,...o.value,...e.type!=="file"?{value:L()}:W.value}),getShadowControl:()=>J("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(M.value===!0?"":" text-no-wrap")},[J("span",{class:"invisible"},L()),J("span",e.shadowText)])});const j=Ue(B);return Object.assign(m,{focus:r,select:a,getNativeElement:()=>C.value}),Ye(m,"nativeEl",()=>C.value),j}}),gt=pe({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:S}){const l=$(()=>{const m=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(n=>e[n]===!0).map(n=>`q-btn-group--${n}`).join(" ");return`q-btn-group row no-wrap${m.length!==0?" "+m:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>J("div",{class:l.value},He(S.default))}}),ft=pe({name:"QBtnToggle",props:{...Be,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(S=>("label"in S||"icon"in S||"slot"in S)&&"value"in S)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:S,emit:l}){const m=$(()=>e.options.find(A=>A.value===e.modelValue)!==void 0),n=$(()=>({type:"hidden",name:e.name,value:e.modelValue})),f=at(n),w=$(()=>Je(e)),v=$(()=>({rounded:e.rounded,dense:e.dense,...w.value})),t=$(()=>e.options.map((A,b)=>{const{attrs:O,value:i,slot:p,...y}=A;return{slot:p,props:{key:b,"aria-pressed":i===e.modelValue?"true":"false",...O,...y,...v.value,disable:e.disable===!0||y.disable===!0,color:i===e.modelValue?h(y,"toggleColor"):h(y,"color"),textColor:i===e.modelValue?h(y,"toggleTextColor"):h(y,"textColor"),noCaps:h(y,"noCaps")===!0,noWrap:h(y,"noWrap")===!0,size:h(y,"size"),padding:h(y,"padding"),ripple:h(y,"ripple"),stack:h(y,"stack")===!0,stretch:h(y,"stretch")===!0,onClick(Q){u(i,A,Q)}}}}));function u(A,b,O){e.readonly!==!0&&(e.modelValue===A?e.clearable===!0&&(l("update:modelValue",null,null),l("clear")):l("update:modelValue",A,b),l("click",O))}function h(A,b){return A[b]===void 0?e[b]:A[b]}function C(){const A=t.value.map(b=>J(Y,b.props,b.slot!==void 0?S[b.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&m.value===!0&&f(A,"push"),ze(S.default,A)}return()=>J(gt,{class:"q-btn-toggle",...w.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},C)}}),he=be("game",()=>{const e=re("GameStore"),S=[{label:"Letter → Sound",value:"letter-to-sound"},{label:"Sound → Letter",value:"sound-to-letter"},{label:"Memory Grid",value:"memory-grid"}],l=x("setup"),m=x(S[0]),n=x(10),f=x(4),w=x(4),v=x("mixed"),t=x([]),u=x({correct:0,total:0}),h=x(!1),C="devanagari-game-state",A=$(()=>typeof m.value=="object"?m.value.value:m.value),b=$(()=>{const r=Math.min(12,t.value.length),a=[];for(let g=2;g<=r;g++)a.push({label:`${g} options`,value:g});return a}),O=[{label:"3×3 Grid",value:3},{label:"4×4 Grid",value:4},{label:"5×5 Grid",value:5},{label:"6×6 Grid",value:6},{label:"7×7 Grid",value:7},{label:"8×8 Grid",value:8},{label:"9×9 Grid",value:9},{label:"10×10 Grid",value:10}];function i(){try{const r={characters:t.value.map(a=>({unicode:a.unicode,iast:a.iast,name:a.name})),characterType:v.value,gameMode:A.value,numQuestions:n.value,numAnswerOptions:f.value,gridSize:w.value};localStorage.setItem(C,JSON.stringify(r))}catch(r){console.warn("Failed to save game state:",r)}}function p(){try{const r=localStorage.getItem(C);if(r){const a=JSON.parse(r);if(a.characters&&Array.isArray(a.characters)){const g=[...le,...oe],_=a.characters.map(z=>g.find(q=>q.unicode===z.unicode)).filter(Boolean);if(_.length>0){t.value=_,v.value=a.characterType||"mixed";const z=a.gameMode||"letter-to-sound";return typeof z=="string"?m.value=S.find(q=>q.value===z)||S[0]:m.value=z,n.value=a.numQuestions||10,f.value=a.numAnswerOptions||4,w.value=a.gridSize||4,h.value=!0,setTimeout(()=>{h.value=!1},4e3),!0}}}}catch(r){console.warn("Failed to load game state:",r)}return!1}function y(){v.value==="vowels"?t.value=[...le]:v.value==="consonants"?t.value=[...oe]:t.value=[...le,...oe]}function Q(){t.value=[]}function W(r){const a=new Set(t.value.map(g=>g.unicode));for(const g of r)a.has(g.unicode)||(t.value.push(g),a.add(g.unicode))}function R(){return t.value.length<3?(e.warn("Cannot start game - insufficient characters selected",{selectedCount:t.value.length,minimumRequired:3}),!1):(e.info("Starting game",{gameMode:A.value,charactersCount:t.value.length,numQuestions:n.value,characterType:v.value}),l.value="playing",!0)}function T(r){e.info("Game completed",{results:r,gameMode:A.value,percentage:`${Math.round(r.correct/r.total*100)}%`}),u.value=r,l.value="results"}function B(){e.info("Returning to setup",{fromState:l.value,preservedCharacters:t.value.length}),l.value="setup"}function M(){e.info("Restarting game",{gameMode:A.value,charactersCount:t.value.length}),l.value="playing"}function P(){t.value.length===0&&(t.value=[...le.slice(0,6),...oe.slice(0,9)])}function o(){t.value=[],v.value==="vowels"?t.value=[...le.slice(0,8)]:v.value==="consonants"?t.value=[...oe.slice(0,15)]:t.value=[...le.slice(0,6),...oe.slice(0,9)]}return U([t,v,m,n,f,w],()=>{i()},{deep:!0}),U(v,()=>{h.value||o()}),U(t,()=>{const r=Math.min(12,t.value.length);f.value>r&&(f.value=Math.max(2,r))},{deep:!0}),p()||(P(),i()),{gameState:l,gameMode:m,numQuestions:n,numAnswerOptions:f,gridSize:w,characterType:v,selectedCharacters:t,gameResults:u,restoredFromStorage:h,gameModeOptions:S,gridSizeOptions:O,currentGameModeValue:A,availableAnswerOptions:b,selectAllCharacters:y,clearCharacterSelection:Q,addVargaToSelection:W,startGame:R,completeGame:T,backToSetup:B,restartGame:M,updateCharactersByType:o,initializeDefaultCharacters:P,saveToLocalStorage:i,loadFromLocalStorage:p}}),ht={xs:2,sm:4,md:6,lg:10,xl:14};function Oe(e,S,l){return{transform:S===!0?`translateX(${l.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const yt=pe({name:"QLinearProgress",props:{...nt,...Xe,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:S}){const{proxy:l}=Qe(),m=st(e,l.$q),n=et(e,ht),f=$(()=>e.indeterminate===!0||e.query===!0),w=$(()=>e.reverse!==e.query),v=$(()=>({...n.value!==null?n.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),t=$(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),u=$(()=>Oe(e.buffer!==void 0?e.buffer:1,w.value,l.$q)),h=$(()=>`with${e.instantFeedback===!0?"out":""}-transition`),C=$(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${h.value} q-linear-progress__track--${m.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),A=$(()=>Oe(f.value===!0?1:e.value,w.value,l.$q)),b=$(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${h.value} q-linear-progress__model--${f.value===!0?"in":""}determinate`),O=$(()=>({width:`${e.value*100}%`})),i=$(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${h.value}`);return()=>{const p=[J("div",{class:C.value,style:u.value}),J("div",{class:b.value,style:A.value})];return e.stripe===!0&&f.value===!1&&p.push(J("div",{class:i.value,style:O.value})),J("div",{class:t.value,style:v.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},ze(S.default,p))}}}),Le=be("letterToSound",()=>{const e=re("LetterToSoundStore"),S=x(!1),l=x(0),m=x(10),n=x(4),f=x(0),w=x(0),v=x(null),t=x([]),u=x(null),h=x(!1),C=x(!1),A=x(!1),b=x(!1),O=x([]),i=$(()=>l.value/m.value),p=$(()=>l.value>=m.value);function y(s){const r=[...s];for(let a=r.length-1;a>0;a--){const g=Math.floor(Math.random()*(a+1));[r[a],r[g]]=[r[g],r[a]]}return r}function Q(s){return h.value?s===v.value?"positive":s===u.value&&s!==v.value?"negative":"grey":"primary"}function W(s,r,a=4){e.info("Initializing Letter-to-Sound game",{charactersCount:s?.length||0,numQuestions:r,numAnswerOptions:a,characters:s?.slice(0,5).map(g=>g.unicode)||[]}),O.value=[...s],m.value=r,l.value=0,f.value=0,w.value=0,S.value=!0,n.value=a,e.debug("Game state initialized",{gameActive:S.value,totalQuestions:m.value,charactersLoaded:O.value.length,answerOptions:a}),R()}function R(){if(e.debug("Generating new question",{currentQuestionNumber:l.value+1,totalQuestions:m.value,availableCharacters:O.value?.length||0}),!O.value||O.value.length===0){e.error("No characters available for question generation");return}const s=[...O.value];v.value=s[Math.floor(Math.random()*s.length)];const r=Math.min(n.value-1,s.length-1),a=s.filter(_=>_!==v.value).sort(()=>.5-Math.random()).slice(0,r),g=[v.value,...a];t.value=y(g),e.info("Question generated",{targetCharacter:v.value?.unicode,targetIast:v.value?.iast,optionsCount:t.value.length,options:t.value.map(_=>_.unicode)}),T()}function T(){u.value=null,h.value=!1,C.value=!1,b.value=!1,A.value=!1}function B(s){if(h.value){e.warn("Answer already selected, ignoring input");return}u.value=s,h.value=!0;const r=s===v.value;A.value=r,e.info("Answer selected",{questionNumber:l.value+1,selectedOption:s?.unicode,correctAnswer:v.value?.unicode,isCorrect:r,currentScore:`${f.value}/${l.value+1}`}),r?f.value++:w.value++,C.value=!0,b.value=!0,e.debug("Answer processed",{correctCount:f.value,incorrectCount:w.value,showingFeedback:C.value})}function M(){e.debug("Moving to next question",{currentQuestion:l.value,totalQuestions:m.value,isLastQuestion:l.value+1>=m.value}),l.value+1>=m.value?P():(l.value++,e.info("Advanced to question",{questionNumber:l.value+1,totalQuestions:m.value}),R())}function P(){S.value=!1;const s={correct:f.value,total:m.value};return e.info("Game completed",{finalScore:`${s.correct}/${s.total}`,percentage:`${Math.round(s.correct/s.total*100)}%`,gameMode:"Letter-to-Sound"}),s}function o(){S.value=!1,l.value=0,f.value=0,w.value=0,v.value=null,t.value=[],T()}return{gameActive:S,currentQuestion:l,totalQuestions:m,correctAnswers:f,incorrectAnswers:w,currentCharacter:v,soundOptions:t,selectedAnswer:u,answerSelected:h,showFeedback:C,lastAnswerCorrect:A,questionAnswered:b,gameCharacters:O,progress:i,gameComplete:p,initializeGame:W,generateQuestion:R,resetQuestion:T,selectAnswer:B,nextQuestion:M,completeGame:P,resetGame:o,getSoundButtonColor:Q}}),Ee=be("soundToLetter",()=>{const e=re("SoundToLetterStore"),S=x(!1),l=x(0),m=x(10),n=x(4),f=x(0),w=x(0),v=x(null),t=x([]),u=x(null),h=x(!1),C=x(!1),A=x(!1),b=x(!1),O=x(!1),i=x([]),p=$(()=>l.value/m.value),y=$(()=>l.value>=m.value);function Q(a){const g=[...a];for(let _=g.length-1;_>0;_--){const z=Math.floor(Math.random()*(_+1));[g[_],g[z]]=[g[z],g[_]]}return g}function W(a){const g=[];return a===u.value&&g.push("selected"),h.value&&(g.push("disabled"),a===v.value?g.push("correct"):a===u.value&&a!==v.value&&g.push("incorrect")),g}function R(a,g,_=4){e.info("Initializing Sound-to-Letter game",{charactersCount:a?.length||0,numQuestions:g,numAnswerOptions:_,characters:a?.slice(0,5).map(z=>z.unicode)||[]}),i.value=[...a],m.value=g,l.value=0,f.value=0,w.value=0,S.value=!0,n.value=_,e.debug("Game state initialized",{gameActive:S.value,totalQuestions:m.value,charactersLoaded:i.value.length,answerOptions:_}),T()}function T(){if(e.debug("Generating new question",{currentQuestionNumber:l.value+1,totalQuestions:m.value,availableCharacters:i.value?.length||0}),!i.value||i.value.length===0){e.error("No characters available for question generation");return}const a=[...i.value];v.value=a[Math.floor(Math.random()*a.length)];const g=Math.min(n.value-1,a.length-1),_=a.filter(q=>q!==v.value).sort(()=>.5-Math.random()).slice(0,g),z=[v.value,..._];t.value=Q(z),e.info("Question generated",{targetCharacter:v.value?.unicode,targetIast:v.value?.iast,optionsCount:t.value.length,options:t.value.map(q=>q.unicode)}),B()}function B(){u.value=null,h.value=!1,C.value=!1,b.value=!1,A.value=!1,O.value=!1}function M(a){if(h.value){e.warn("Answer already selected, ignoring input");return}u.value=a,h.value=!0;const g=a===v.value;A.value=g,e.info("Answer selected",{questionNumber:l.value+1,selectedOption:a?.unicode,correctAnswer:v.value?.unicode,isCorrect:g,currentScore:`${f.value}/${l.value+1}`}),g?f.value++:w.value++,C.value=!0,b.value=!0,e.debug("Answer processed",{correctCount:f.value,incorrectCount:w.value,showingFeedback:C.value})}function P(a){O.value=a}function o(){l.value+1>=m.value?s():(l.value++,T())}function s(){return S.value=!1,{correct:f.value,total:m.value}}function r(){S.value=!1,l.value=0,f.value=0,w.value=0,v.value=null,t.value=[],B()}return{gameActive:S,currentQuestion:l,totalQuestions:m,correctAnswers:f,incorrectAnswers:w,currentCharacter:v,characterOptions:t,selectedAnswer:u,answerSelected:h,showFeedback:C,lastAnswerCorrect:A,questionAnswered:b,isPlayingTarget:O,gameCharacters:i,progress:p,gameComplete:y,initializeGame:R,generateQuestion:T,resetQuestion:B,selectAnswer:M,nextQuestion:o,completeGame:s,resetGame:r,getCharacterOptionClass:W,setPlayingTarget:P}}),pt={class:"letter-to-sound-game"},St={key:0,class:"game-content"},wt={class:"question-display q-mb-xl text-center"},kt={key:0,class:"character-info q-mt-sm"},bt={class:"iast"},Ct={key:0,class:"answer-options"},_t={class:"sound-options"},xt={key:1,class:"loading-section text-center q-pa-xl"},Mt={__name:"LetterToSoundGame",emits:["game-complete"],setup(e,{emit:S}){const l=re("LetterToSoundGame"),m=he(),n=S,{playSound:f}=Se(),w=Fe(),v=we(),t=Le(),u=x(!1),h=x(null),C=x(new Set),A=x(null),b=x(new Set);async function O(){if(u.value){l.debug("Target sound already playing, ignoring click");return}l.info("Playing target sound",{character:t.currentCharacter?.unicode,iast:t.currentCharacter?.iast,speaker:w.getActualSpeaker()}),u.value=!0;try{await f(t.currentCharacter,w.getActualSpeaker()),l.debug("Target sound played successfully")}catch(M){l.error("Error playing target sound",{error:M.message,character:t.currentCharacter?.unicode,speaker:w.getActualSpeaker()})}finally{setTimeout(()=>{u.value=!1},1e3)}}async function i(M){if(h.value===M){h.value=null;return}l.info("Playing sound for listening",{option:M?.unicode,questionNumber:t.currentQuestion+1});try{h.value=M,await f(M,w.getActualSpeaker()),C.value.add(M.unicode),l.debug("Sound played successfully",{option:M?.unicode,speaker:w.getActualSpeaker()})}catch(P){l.error("Error playing option sound",{error:P.message,option:M?.unicode,speaker:w.getActualSpeaker()})}finally{setTimeout(()=>{h.value=null},1e3)}}function p(M){const P=M===t.currentCharacter;if(b.value.has(M.unicode)){l.debug("Option already tried and was wrong, ignoring");return}if(t.answerSelected){l.debug("Game already completed, ignoring selection");return}l.info("Answer attempt",{selectedOption:M?.unicode,correctAnswer:t.currentCharacter?.unicode,isCorrect:P}),P?(A.value=M,t.selectAnswer(M),l.info("Correct answer selected, auto-advancing to next question"),setTimeout(()=>{T()},500)):(b.value.add(M.unicode),l.info("Wrong answer selected",{wrongOption:M?.unicode,totalWrongAttempts:b.value.size}))}function y(M){return h.value===M?"accent":C.value.has(M.unicode)?"secondary":"primary"}function Q(M){return b.value.has(M.unicode)?"negative":t.answerSelected&&M===t.currentCharacter?"positive":t.answerSelected?"grey":"grey-5"}function W(M){return b.value.has(M.unicode)?"close":t.answerSelected&&M===t.currentCharacter?"check":"radio_button_unchecked"}function R(M){return b.value.has(M.unicode)?"Wrong":t.answerSelected&&M===t.currentCharacter?"Correct":"Select"}function T(){if(t.gameComplete){l.info("Game complete, finishing Letter-to-Sound game");const M=t.completeGame();n("game-complete",M)}else l.debug("Moving to next question",{currentQuestion:t.currentQuestion,totalQuestions:t.totalQuestions}),t.nextQuestion()}function B(){C.value.clear(),A.value=null,b.value.clear()}return U(()=>t.currentQuestion,()=>{B()}),ve(()=>{l.info("LetterToSoundGame component mounted",{charactersCount:m.selectedCharacters.length,numQuestions:m.numQuestions,numAnswerOptions:m.numAnswerOptions}),t.initializeGame(m.selectedCharacters,m.numQuestions,m.numAnswerOptions),B()}),Ce(()=>{l.info("LetterToSoundGame component unmounted"),t.resetGame()}),(M,P)=>(G(),V("div",pt,[d(t).gameActive&&d(t).currentCharacter?(G(),V("div",St,[k("div",wt,[k("div",{class:"target-character",onClick:O},[X(Z(d(t).currentCharacter.unicode)+" ",1),F(ge,{name:"volume_up",size:"sm",class:me(["q-ml-sm cursor-pointer",{"text-primary":u.value}])},null,8,["class"])]),d(v).showIAST?(G(),V("div",kt,[k("span",bt,Z(d(t).currentCharacter.iast),1)])):D("",!0)]),d(t).soundOptions.length>0?(G(),V("div",Ct,[k("div",_t,[(G(!0),V(ce,null,de(d(t).soundOptions,(o,s)=>(G(),V("div",{key:s,class:me(["sound-option-container",{selected:A.value===o,correct:d(t).answerSelected&&o===d(t).currentCharacter,incorrect:b.value.has(o.unicode),disabled:b.value.has(o.unicode)||d(t).answerSelected}])},[F(Y,{onClick:r=>i(o),color:y(o),size:"lg",round:"",class:"listen-btn",icon:h.value===o?"stop":"volume_up"},null,8,["onClick","color","icon"]),F(Y,{onClick:r=>p(o),color:Q(o),outline:A.value!==o,disable:b.value.has(o.unicode)||d(t).answerSelected,size:"sm",class:"select-btn q-mt-sm",icon:W(o)},{default:ee(()=>[X(Z(R(o)),1)]),_:2},1032,["onClick","color","outline","disable","icon"])],2))),128))])])):D("",!0)])):d(t).gameActive&&!d(t).currentCharacter?(G(),V("div",xt,[F(Ie,{size:"2rem",color:"primary"}),P[0]||(P[0]=k("div",{class:"text-subtitle1 q-mt-md"},"Loading game...",-1))])):D("",!0)]))}},At=fe(Mt,[["__scopeId","data-v-2a53c1ee"]]),Gt={class:"sound-to-letter-game"},Tt={key:0,class:"game-content"},$t={class:"question-display q-mb-xl text-center"},qt={key:0,class:"answer-options"},Vt={class:"character-options"},Ot=["onClick"],Qt={class:"option-character"},zt={class:"option-info"},Bt={key:0,class:"iast"},Ft={key:1,class:"loading-section text-center q-pa-xl"},It={__name:"SoundToLetterGame",emits:["game-complete"],setup(e,{emit:S}){const l=re("SoundToLetterGame"),m=he(),n=S,{playSound:f}=Se(),w=Fe(),v=we(),t=Ee(),u=x(new Set);async function h(){if(!t.isPlayingTarget){t.setPlayingTarget(!0);try{await f(t.currentCharacter,w.getActualSpeaker())}catch(i){console.error("Error playing target sound:",i)}finally{setTimeout(()=>{t.setPlayingTarget(!1)},1e3)}}}async function C(i){const p=i===t.currentCharacter;if(u.value.has(i.unicode)){l.debug("Option already tried and was wrong, ignoring");return}if(t.answerSelected){l.debug("Game already completed, ignoring selection");return}l.info("Answer attempt",{selectedOption:i?.unicode,correctAnswer:t.currentCharacter?.unicode,isCorrect:p});try{await f(i,w.getActualSpeaker()),l.debug("Played sound for selected option",{option:i?.unicode,speaker:w.getActualSpeaker()})}catch(y){l.error("Error playing sound for selected option",{error:y.message,option:i?.unicode,speaker:w.getActualSpeaker()})}p?(t.selectAnswer(i),l.info("Correct answer selected, auto-advancing to next question"),setTimeout(()=>{b()},500)):(u.value.add(i.unicode),l.info("Wrong answer selected",{wrongOption:i?.unicode,totalWrongAttempts:u.value.size}))}function A(i){const p=[];return u.value.has(i.unicode)&&(p.push("incorrect"),p.push("disabled")),t.answerSelected&&i===t.currentCharacter&&(p.push("correct"),p.push("disabled")),t.answerSelected&&i!==t.currentCharacter&&!u.value.has(i.unicode)&&p.push("disabled"),p}function b(){if(t.gameComplete){const i=t.completeGame();n("game-complete",i)}else t.nextQuestion()}function O(){u.value.clear()}return U(()=>t.currentQuestion,()=>{O()}),U(()=>t.currentCharacter,i=>{i&&t.gameActive&&setTimeout(()=>{h()},300)}),ve(()=>{l.info("SoundToLetterGame component mounted",{charactersCount:m.selectedCharacters.length,numQuestions:m.numQuestions,numAnswerOptions:m.numAnswerOptions}),t.initializeGame(m.selectedCharacters,m.numQuestions,m.numAnswerOptions)}),Ce(()=>{t.resetGame()}),(i,p)=>(G(),V("div",Gt,[d(t).gameActive&&d(t).currentCharacter?(G(),V("div",Tt,[k("div",$t,[F(Y,{onClick:h,color:"primary",size:"xl",round:"",icon:"volume_up",class:me([{pulsing:d(t).isPlayingTarget},"play-sound-btn q-mb-md"])},null,8,["class"])]),d(t).characterOptions.length>0?(G(),V("div",qt,[k("div",Vt,[(G(!0),V(ce,null,de(d(t).characterOptions,(y,Q)=>(G(),V("div",{key:Q,onClick:W=>C(y),class:me(["character-option",A(y)])},[k("div",Qt,Z(y.unicode),1),k("div",zt,[d(v).showIAST?(G(),V("div",Bt,Z(y.iast),1)):D("",!0)])],10,Ot))),128))])])):D("",!0)])):d(t).gameActive&&!d(t).currentCharacter?(G(),V("div",Ft,[F(Ie,{size:"2rem",color:"primary"}),p[0]||(p[0]=k("div",{class:"text-subtitle1 q-mt-md"},"Loading game...",-1))])):D("",!0)]))}},Rt=fe(It,[["__scopeId","data-v-9793aef0"]]),Lt={class:"matching-game"},Et={class:"game-header q-mb-lg"},Pt={class:"row items-center justify-between"},Nt={class:"game-progress"},jt={class:"text-caption"},Dt={class:"game-stats"},Ut={class:"game-controls"},Wt={class:"game-content"},Kt={__name:"MatchingGame",emits:["game-complete","reset-game"],setup(e,{emit:S}){const l=re("MatchingGame"),m=he(),n=S,f=Le(),w=Ee();console.log("MatchingGame component initialized with game mode:",m.gameMode);const v=m.currentGameModeValue,t=$(()=>v.value==="letter-to-sound"?f:w),u=$(()=>t.value.progress),h=$(()=>t.value.currentQuestion),C=$(()=>t.value.correctAnswers),A=$(()=>t.value.incorrectAnswers);function b(){l.info("Reset game requested",{gameMode:v.value,currentQuestion:t.value.currentQuestion,currentScore:`${t.value.correctAnswers}/${t.value.currentQuestion+1}`}),n("reset-game")}function O(i){l.info("Game completed",{gameMode:v.value,finalResults:i,percentage:`${Math.round(i.correct/i.total*100)}%`}),n("game-complete",i)}return U(()=>v.value,(i,p)=>{l.info("Game mode changed",{from:p,to:i})}),U(()=>m.selectedCharacters.length,(i,p)=>{l.debug("Character selection changed",{from:p,to:i})}),ve(()=>{l.info("MatchingGame component mounted",{gameMode:v.value,charactersCount:m.selectedCharacters.length,numQuestions:m.numQuestions})}),Ce(()=>{l.info("MatchingGame component unmounted")}),(i,p)=>(G(),V("div",Lt,[k("div",Et,[k("div",Pt,[k("div",Nt,[F(yt,{value:u.value,size:"8px",color:"primary",class:"q-mb-sm"},null,8,["value"]),k("div",jt," Question "+Z(h.value+1)+" of "+Z(d(m).numQuestions),1)]),k("div",Dt,[F(xe,{color:"positive","text-color":"white",icon:"check"},{default:ee(()=>[X(Z(C.value),1)]),_:1}),F(xe,{color:"negative","text-color":"white",icon:"close"},{default:ee(()=>[X(Z(A.value),1)]),_:1})]),k("div",Ut,[F(Y,{onClick:b,flat:"",icon:"restart_alt",label:"Reset",color:"orange"})])])]),k("div",Wt,[d(v)==="letter-to-sound"?(G(),ne(At,{key:0,onGameComplete:O})):d(v)==="sound-to-letter"?(G(),ne(Rt,{key:1,onGameComplete:O})):D("",!0)])]))}},Zt=fe(Kt,[["__scopeId","data-v-18dd7104"]]),Yt={class:"game-header q-mb-lg"},Ht={class:"row items-center justify-between"},Jt={class:"game-controls"},Xt={class:"grid-container"},ea=["onClick"],ta={key:0,class:"tile-content"},aa={key:1,class:"tile-content"},na={key:0,class:"character-info"},sa={key:0,class:"iast"},la={key:1,class:"name"},oa={key:2,class:"tile-content"},ra={key:0,class:"completion-message q-mt-lg text-center"},ia={__name:"MemoryGrid",setup(e){const S=he(),l=we(),{playSound:m,init:n}=Se(),f=x(!1),w=x(!1),v=x([]),t=x(null),u=$(()=>S.gridSize),h=$(()=>{const i=l.viewSizeSettings,p=window.innerWidth<=600,y=window.innerWidth<=480;let Q=i.buttonMinWidth,W=i.gap;if(p){const R=window.innerWidth-32,T=parseInt(W.replace("rem",""))*16*(u.value-1),B=Math.max((R-T)/u.value,y?40:50);Q=`${Math.floor(B)}px`,u.value>=6&&(W=y?"0.25rem":"0.5rem")}return{"--tile-size":Q,"--tile-padding":i.buttonPadding,"--tile-gap":W,"--tile-border-radius":i.borderRadius,"--info-font-size":i.infoFontSize}}),C=$(()=>{const i=l.viewSizeSettings,p=window.innerWidth<=600;let y=32;if(p){const Q=Math.max(.6,1-(u.value-3)*.08);y=Math.max(16,y*Q)}return y*i.fontSize});function A(){if(S.selectedCharacters.length===0)return;const i=u.value*u.value,p=Math.floor(i/2),y=[],Q=S.selectedCharacters;for(let T=0;T<p;T++){const B=T%Q.length;y.push(Q[B])}const W=y.map((T,B)=>({character:T,soundTileId:`sound-${T.unicode}-${B}`,letterTileId:`letter-${T.unicode}-${B}`})),R=[];W.forEach(T=>{R.push({id:T.soundTileId,type:"sound",character:T.character,pairId:T.character.unicode,isMatched:!1}),R.push({id:T.letterTileId,type:"letter",character:T.character,pairId:T.character.unicode,isMatched:!1})}),i%2===1&&R.push({id:"decoy",type:"decoy",character:null,pairId:null,isMatched:!1});for(let T=R.length-1;T>0;T--){const B=Math.floor(Math.random()*(T+1));[R[T],R[B]]=[R[B],R[T]]}v.value=R,t.value=null,w.value=!1}async function b(i){if(!(i.isMatched||w.value)){if(i.type==="sound"){t.value=i.id;try{await m(i.character)}catch(p){console.error("Error playing sound:",p)}}else if(i.type==="letter"&&t.value){try{await m(i.character)}catch(y){console.error("Error playing sound:",y)}const p=v.value.find(y=>y.id===t.value);p&&i.pairId===p.pairId?(i.isMatched=!0,p.isMatched=!0,t.value=null,O()):t.value=null}}}function O(){v.value.filter(p=>p.type!=="decoy"&&!p.isMatched).length===0&&(w.value=!0,setTimeout(()=>{A()},2e3))}return U([()=>S.selectedCharacters,u],()=>{S.selectedCharacters.length>0&&A()}),ve(async()=>{f.value=!0;try{await n(),S.selectedCharacters.length>0&&A()}catch(i){console.error("Error initializing sound service:",i)}finally{f.value=!1}}),(i,p)=>(G(),V("div",{class:"memory-grid",style:Ge(h.value)},[k("div",Yt,[k("div",Ht,[p[1]||(p[1]=k("div",{class:"game-info"},[k("h4",{class:"q-my-none"},"Memory Grid"),k("div",{class:"text-caption text-grey-6"},"Click sound tiles, then match with letters")],-1)),k("div",Jt,[F(Y,{flat:"",icon:"refresh",label:"New Grid",onClick:A,disable:w.value,class:"q-mr-sm"},null,8,["disable"]),F(Y,{flat:"",icon:"arrow_back",label:"Back to Setup",onClick:p[0]||(p[0]=y=>i.$emit("reset-game")),color:"secondary"})])])]),k("div",Xt,[k("div",{class:me(["memory-grid-layout",`grid-${u.value}x${u.value}`])},[(G(!0),V(ce,null,de(v.value,y=>(G(),V("div",{key:y.id,class:me(["grid-tile",{"sound-tile":y.type==="sound","letter-tile":y.type==="letter","decoy-tile":y.type==="decoy",matched:y.isMatched,"selected-sound":y.id===t.value,clickable:!y.isMatched&&(y.type==="sound"||y.type==="letter"&&t.value)}]),onClick:Q=>b(y)},[y.type==="sound"?(G(),V("div",ta,[F(ge,{name:"volume_up",size:"lg"})])):y.type==="letter"?(G(),V("div",aa,[k("div",{class:"character",style:Ge({fontSize:`${C.value}px`})},Z(y.character.unicode),5),d(l).showIAST||d(l).showPhonetic?(G(),V("div",na,[d(l).showIAST?(G(),V("div",sa,Z(y.character.iast),1)):D("",!0),d(l).showPhonetic?(G(),V("div",la,Z(y.character.name),1)):D("",!0)])):D("",!0)])):y.type==="decoy"?(G(),V("div",oa,[F(ge,{name:"help_outline",size:"lg"})])):D("",!0)],10,ea))),128))],2)]),w.value?(G(),V("div",ra,[F(ge,{name:"celebration",size:"xl",color:"green"}),p[2]||(p[2]=k("div",{class:"text-h6 text-green q-mt-sm"},"All pairs matched!",-1)),p[3]||(p[3]=k("div",{class:"text-caption text-grey-6"},"New grid starting soon...",-1))])):D("",!0),F(ot,{showing:f.value},{default:ee(()=>[F(lt,{size:"50px",color:"primary"})]),_:1},8,["showing"])],4))}},ua=fe(ia,[["__scopeId","data-v-e6666f8a"]]),ca={class:"game-container q-pa-lg"},da={key:0,class:"setup-section"},ma={class:"setup-card"},va={class:"setup-options q-mb-lg"},ga={class:"row q-gutter-lg"},fa={class:"col-md-4 col-12"},ha={key:0,class:"col-md-3 col-12"},ya={key:1,class:"col-md-3 col-12"},pa={key:2,class:"col-md-3 col-12"},Sa={class:"character-selection q-mb-lg"},wa={class:"row items-center justify-between q-mb-md"},ka={key:0,class:"text-caption text-positive"},ba={class:"selection-controls q-mb-md"},Ca={class:"q-ml-md"},_a={class:"vowels-selection q-mb-md"},xa={class:"character-selection-grid"},Ma={class:"consonants-selection"},Aa={class:"row items-center justify-between q-mb-sm"},Ga={class:"varga-buttons"},Ta={class:"character-selection-grid"},$a={class:"text-center"},qa={key:0,class:"text-negative text-caption q-mt-sm"},Va={key:1,class:"text-orange text-caption q-mt-sm"},Oa={key:1,class:"game-section"},Qa={key:2,class:"results-section"},za={class:"results-card text-center"},Ba={class:"score-display q-mb-lg"},Fa={class:"text-h3 text-positive"},Ia={class:"action-buttons"},Ra={__name:"GamePage",setup(e){const S=re("GamePage"),{init:l}=Se(),m=we(),n=he(),f=$(()=>{const t=n.selectedCharacters.length;return t<3?!0:n.currentGameModeValue==="memory-grid"?t<1:t<n.numAnswerOptions||n.availableAnswerOptions.length===0}),w=n.currentGameModeValue;return U(()=>n.gameState,(v,t)=>{S.info("Game state changed",{from:t,to:v,gameMode:w.value,charactersCount:n.selectedCharacters.length,numQuestions:n.numQuestions})}),U(()=>w.value,(v,t)=>{S.info("Game mode changed in GamePage",{from:t,to:v,currentState:n.gameState})}),ve(async()=>{S.info("GamePage component mounted",{initialGameState:n.gameState,gameMode:w.value,charactersSelected:n.selectedCharacters.length});try{S.debug("Initializing sound service..."),await l(),S.info("Sound service initialized successfully")}catch(v){S.error("Error initializing game",{error:v.message,stack:v.stack})}}),(v,t)=>(G(),ne(rt,{class:"matching-game-page"},{default:ee(()=>[t[18]||(t[18]=k("div",{class:"page-header q-pa-md"},[k("h1",{class:"text-h4 text-center text-primary q-mb-md"}," Matching Game (मैचिंग खेल) ")],-1)),k("div",ca,[d(n).gameState==="setup"?(G(),V("div",da,[k("div",ma,[t[13]||(t[13]=k("h3",{class:"text-h5 q-mb-md"},"Game Setup",-1)),k("div",va,[k("div",ga,[k("div",fa,[F(ke,{modelValue:d(n).gameMode,"onUpdate:modelValue":t[0]||(t[0]=u=>d(n).gameMode=u),options:d(n).gameModeOptions,label:"Game Mode",outlined:""},null,8,["modelValue","options"])]),d(n).currentGameModeValue!=="memory-grid"?(G(),V("div",ha,[F(vt,{modelValue:d(n).numQuestions,"onUpdate:modelValue":t[1]||(t[1]=u=>d(n).numQuestions=u),modelModifiers:{number:!0},type:"number",min:5,max:20,label:"Number of Questions",outlined:""},null,8,["modelValue"])])):D("",!0),d(n).currentGameModeValue!=="memory-grid"?(G(),V("div",ya,[F(ke,{modelValue:d(n).numAnswerOptions,"onUpdate:modelValue":t[2]||(t[2]=u=>d(n).numAnswerOptions=u),options:d(n).availableAnswerOptions,label:"Answer Options",outlined:"","emit-value":"","map-options":"",disable:d(n).availableAnswerOptions.length===0},null,8,["modelValue","options","disable"])])):D("",!0),d(n).currentGameModeValue==="memory-grid"?(G(),V("div",pa,[F(ke,{modelValue:d(n).gridSize,"onUpdate:modelValue":t[3]||(t[3]=u=>d(n).gridSize=u),options:d(n).gridSizeOptions,label:"Grid Size",outlined:"","emit-value":"","map-options":""},null,8,["modelValue","options"])])):D("",!0)])]),k("div",Sa,[k("div",wa,[t[8]||(t[8]=k("h4",{class:"text-h6 q-ma-none"},"Select Characters",-1)),d(n).restoredFromStorage?(G(),V("div",ka,[F(ge,{name:"restore",size:"sm",class:"q-mr-xs"}),t[7]||(t[7]=X(" Selection restored "))])):D("",!0)]),k("div",ba,[F(ft,{modelValue:d(n).characterType,"onUpdate:modelValue":t[4]||(t[4]=u=>d(n).characterType=u),options:[{label:"Vowels",value:"vowels"},{label:"Consonants",value:"consonants"},{label:"Mixed",value:"mixed"}],outline:""},null,8,["modelValue"]),k("div",Ca,[F(Y,{onClick:d(n).selectAllCharacters,outline:"",color:"positive",size:"sm"},{default:ee(()=>t[9]||(t[9]=[X(" Select All ")])),_:1,__:[9]},8,["onClick"]),F(Y,{onClick:d(n).clearCharacterSelection,outline:"",color:"negative",size:"sm",class:"q-ml-sm"},{default:ee(()=>t[10]||(t[10]=[X(" Clear All ")])),_:1,__:[10]},8,["onClick"])])]),Te(k("div",_a,[t[11]||(t[11]=k("h5",null,"Vowels",-1)),k("div",xa,[(G(!0),V(ce,null,de(d(le),u=>(G(),ne(Me,{key:u.unicode,modelValue:d(n).selectedCharacters,"onUpdate:modelValue":t[5]||(t[5]=h=>d(n).selectedCharacters=h),val:u,label:u.unicode+(d(m).showIAST?" ("+u.iast+")":""),class:"character-checkbox"},null,8,["modelValue","val","label"]))),128))])],512),[[$e,d(n).characterType==="vowels"||d(n).characterType==="mixed"]]),Te(k("div",Ma,[k("div",Aa,[t[12]||(t[12]=k("h5",{class:"q-ma-none"},"Consonants",-1)),k("div",Ga,[(G(!0),V(ce,null,de(d(it),u=>(G(),ne(Y,{key:u.name,onClick:h=>d(n).addVargaToSelection(u.consonants),outline:"",size:"xs",color:"primary",class:"q-mr-xs q-mb-xs",label:u.englishName,title:`Add ${u.name} to selection`},null,8,["onClick","label","title"]))),128))])]),k("div",Ta,[(G(!0),V(ce,null,de(d(oe),u=>(G(),ne(Me,{key:u.unicode,modelValue:d(n).selectedCharacters,"onUpdate:modelValue":t[6]||(t[6]=h=>d(n).selectedCharacters=h),val:u,label:u.unicode+(d(m).showIAST?" ("+u.iast+")":""),class:"character-checkbox"},null,8,["modelValue","val","label"]))),128))])],512),[[$e,d(n).characterType==="consonants"||d(n).characterType==="mixed"]])]),k("div",$a,[F(Y,{onClick:d(n).startGame,color:"primary",size:"lg",disable:f.value,icon:"play_arrow"},{default:ee(()=>[X(" Start Game ("+Z(d(n).selectedCharacters.length)+" characters selected) ",1)]),_:1},8,["onClick","disable"]),d(n).selectedCharacters.length<3?(G(),V("div",qa," Need at least 3 characters to start the game ")):d(n).currentGameModeValue!=="memory-grid"&&d(n).availableAnswerOptions.length===0?(G(),V("div",Va," Select more characters to enable answer options ")):D("",!0)])])])):d(n).gameState==="playing"?(G(),V("div",Oa,[d(n).currentGameModeValue!=="memory-grid"?(G(),ne(Zt,{key:0,onGameComplete:d(n).completeGame,onResetGame:d(n).backToSetup},null,8,["onGameComplete","onResetGame"])):d(n).currentGameModeValue==="memory-grid"?(G(),ne(ua,{key:1,onResetGame:d(n).backToSetup},null,8,["onResetGame"])):D("",!0)])):d(n).gameState==="results"?(G(),V("div",Qa,[k("div",za,[t[17]||(t[17]=k("h3",{class:"text-h5 q-mb-md"},"Game Complete!",-1)),k("div",Ba,[k("div",Fa,Z(d(n).gameResults.correct)+"/"+Z(d(n).gameResults.total),1),t[14]||(t[14]=k("div",{class:"text-subtitle1"},"Correct Answers",-1))]),k("div",Ia,[F(Y,{onClick:d(n).restartGame,color:"primary",outline:"",class:"q-mr-md"},{default:ee(()=>t[15]||(t[15]=[X(" Play Again ")])),_:1,__:[15]},8,["onClick"]),F(Y,{onClick:d(n).backToSetup,color:"secondary",outline:""},{default:ee(()=>t[16]||(t[16]=[X(" New Setup ")])),_:1,__:[16]},8,["onClick"])])])])):D("",!0)])]),_:1,__:[18]}))}},ja=fe(Ra,[["__scopeId","data-v-c27d7ffe"]]);export{ja as default};
